// Copyright 2018 (c) Cillié Malan
// See LICENSE for more info

var lookup = 'ﾍuՀગՔИɾԲAnKBՌﾗઆઔﾇｺԺઉઓlЖhςıﾝbﾀΨﾌπԽɐΞɔЛՃʍρNમચG0ν3ǝk7ટԴખoԾﾉﾏછДﾈJdβɟПՖIՇતｼՒﾃઝﾛ6EｩઞઈજZУτઙЧﾆԵﾋБｸpQʃΠՊΣՕԿદｲｷｮzΔSOՍ8ԳvcભmԱઘՓxɹVﾚαઋʞﾓλtｪｿﾜιΘપｽՏ9ઑʎｦψઍՑથDζЗfηΩઌrjનeiｱ1χઐՅՎΛｨﾁｯﾅՈԶՋｹφｵMwФઠધﾎsﾂgﾒﾖﾐՆωΓʌԼXδડｶઅﾑﾊκʇｭｾHԹબઢઊﾘઇԸԷﾄ5НｬГՁγﾙકɥɯКCｧｻﾕｫШՄՂ2θεՐՉફPણaRԻFયﾔξLμυTyЦσοYW4qU';
var reverse = {
    '0': 44,
    '1': 155,
    '2': 228,
    '3': 46,
    '4': 253,
    '5': 209,
    '6': 74,
    '7': 49,
    '8': 107,
    '9': 134,
    'ﾍ': 0,
    'u': 1,
    'Հ': 2,
    'ગ': 3,
    'Ք': 4,
    'И': 5,
    'ɾ': 6,
    'Բ': 7,
    'A': 8,
    'n': 9,
    'K': 10,
    'B': 11,
    'Ռ': 12,
    'ﾗ': 13,
    'આ': 14,
    'ઔ': 15,
    'ﾇ': 16,
    'ｺ': 17,
    'Ժ': 18,
    'ઉ': 19,
    'ઓ': 20,
    'l': 21,
    'Ж': 22,
    'h': 23,
    'ς': 24,
    'ı': 25,
    'ﾝ': 26,
    'b': 27,
    'ﾀ': 28,
    'Ψ': 29,
    'ﾌ': 30,
    'π': 31,
    'Խ': 32,
    'ɐ': 33,
    'Ξ': 34,
    'ɔ': 35,
    'Л': 36,
    'Ճ': 37,
    'ʍ': 38,
    'ρ': 39,
    'N': 40,
    'મ': 41,
    'ચ': 42,
    'G': 43,
    'ν': 45,
    'ǝ': 47,
    'k': 48,
    'ટ': 50,
    'Դ': 51,
    'ખ': 52,
    'o': 53,
    'Ծ': 54,
    'ﾉ': 55,
    'ﾏ': 56,
    'છ': 57,
    'Д': 58,
    'ﾈ': 59,
    'J': 60,
    'd': 61,
    'β': 62,
    'ɟ': 63,
    'П': 64,
    'Ֆ': 65,
    'I': 66,
    'Շ': 67,
    'ત': 68,
    'ｼ': 69,
    'Ւ': 70,
    'ﾃ': 71,
    'ઝ': 72,
    'ﾛ': 73,
    'E': 75,
    'ｩ': 76,
    'ઞ': 77,
    'ઈ': 78,
    'જ': 79,
    'Z': 80,
    'У': 81,
    'τ': 82,
    'ઙ': 83,
    'Ч': 84,
    'ﾆ': 85,
    'Ե': 86,
    'ﾋ': 87,
    'Б': 88,
    'ｸ': 89,
    'p': 90,
    'Q': 91,
    'ʃ': 92,
    'Π': 93,
    'Պ': 94,
    'Σ': 95,
    'Օ': 96,
    'Կ': 97,
    'દ': 98,
    'ｲ': 99,
    'ｷ': 100,
    'ｮ': 101,
    'z': 102,
    'Δ': 103,
    'S': 104,
    'O': 105,
    'Ս': 106,
    'Գ': 108,
    'v': 109,
    'c': 110,
    'ભ': 111,
    'm': 112,
    'Ա': 113,
    'ઘ': 114,
    'Փ': 115,
    'x': 116,
    'ɹ': 117,
    'V': 118,
    'ﾚ': 119,
    'α': 120,
    'ઋ': 121,
    'ʞ': 122,
    'ﾓ': 123,
    'λ': 124,
    't': 125,
    'ｪ': 126,
    'ｿ': 127,
    'ﾜ': 128,
    'ι': 129,
    'Θ': 130,
    'પ': 131,
    'ｽ': 132,
    'Տ': 133,
    'ઑ': 135,
    'ʎ': 136,
    'ｦ': 137,
    'ψ': 138,
    'ઍ': 139,
    'Ց': 140,
    'થ': 141,
    'D': 142,
    'ζ': 143,
    'З': 144,
    'f': 145,
    'η': 146,
    'Ω': 147,
    'ઌ': 148,
    'r': 149,
    'j': 150,
    'ન': 151,
    'e': 152,
    'i': 153,
    'ｱ': 154,
    'χ': 156,
    'ઐ': 157,
    'Յ': 158,
    'Վ': 159,
    'Λ': 160,
    'ｨ': 161,
    'ﾁ': 162,
    'ｯ': 163,
    'ﾅ': 164,
    'Ո': 165,
    'Զ': 166,
    'Ջ': 167,
    'ｹ': 168,
    'φ': 169,
    'ｵ': 170,
    'M': 171,
    'w': 172,
    'Ф': 173,
    'ઠ': 174,
    'ધ': 175,
    'ﾎ': 176,
    's': 177,
    'ﾂ': 178,
    'g': 179,
    'ﾒ': 180,
    'ﾖ': 181,
    'ﾐ': 182,
    'Ն': 183,
    'ω': 184,
    'Γ': 185,
    'ʌ': 186,
    'Լ': 187,
    'X': 188,
    'δ': 189,
    'ડ': 190,
    'ｶ': 191,
    'અ': 192,
    'ﾑ': 193,
    'ﾊ': 194,
    'κ': 195,
    'ʇ': 196,
    'ｭ': 197,
    'ｾ': 198,
    'H': 199,
    'Թ': 200,
    'બ': 201,
    'ઢ': 202,
    'ઊ': 203,
    'ﾘ': 204,
    'ઇ': 205,
    'Ը': 206,
    'Է': 207,
    'ﾄ': 208,
    'Н': 210,
    'ｬ': 211,
    'Г': 212,
    'Ձ': 213,
    'γ': 214,
    'ﾙ': 215,
    'ક': 216,
    'ɥ': 217,
    'ɯ': 218,
    'К': 219,
    'C': 220,
    'ｧ': 221,
    'ｻ': 222,
    'ﾕ': 223,
    'ｫ': 224,
    'Ш': 225,
    'Մ': 226,
    'Ղ': 227,
    'θ': 229,
    'ε': 230,
    'Ր': 231,
    'Չ': 232,
    'ફ': 233,
    'P': 234,
    'ણ': 235,
    'a': 236,
    'R': 237,
    'Ի': 238,
    'F': 239,
    'ય': 240,
    'ﾔ': 241,
    'ξ': 242,
    'L': 243,
    'μ': 244,
    'υ': 245,
    'T': 246,
    'y': 247,
    'Ц': 248,
    'σ': 249,
    'ο': 250,
    'Y': 251,
    'W': 252,
    'q': 254,
    'U': 255
}

function encode(input) {
    var output = '';

    if (input === '' || input === undefined || input === null) {
        return input;
    }

    for (var i = 0; i < input.length; i++) {
        var v = input[i];
        if (!isFinite(v) || isNaN(v) || v < 0 || v > 255) {
            throw "invalid input";
        }
        output += lookup[v];
    }

    return output;
}

function decode(input) {
    var output = Array(input.length);

    for (var i = 0; i < input.length; i++) {
        var d = reverse[input[i]];
        if (typeof d != 'number') {
            throw "invalid input";
        }

        output[i] = d;
    }

    return output;
}

if (typeof require == 'function') {
    module.exports = {
        encode: encode,
        decode: decode
    };
} else {
    this.crazy = {
        encode: encode,
        decode: decode
    }
}
